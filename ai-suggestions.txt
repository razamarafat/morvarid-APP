
AI SUGGESTIONS BACKLOG - V52

--------------------------------
1. پیشنهادات امنیت و مدیریت کاربران (Security & Auth)
--------------------------------
- [ ] عنوان: Two-Factor Authentication (2FA)
  - دسته‌بندی: Security
  - توضیح: پیاده‌سازی احراز هویت دو مرحله‌ای (TOTP) برای نقش‌های مدیریتی (Admin/Sales).
  - اولویت: High

- [ ] عنوان: DB Rate Limiting for Admin Actions
  - دسته‌بندی: Security/Backend
  - توضیح: افزودن محدودیت زمانی در تابع RPC تا ادمین نتواند در هر دقیقه بیش از ۵ کاربر بسازد (جلوگیری از اسپم).
  - اولویت: Medium

- [ ] عنوان: Database Audit Logging
  - دسته‌بندی: Security/Backend
  - توضیح: ایجاد جدول audit_logs و تریگرهای دیتابیس برای ثبت خودکار هرگونه تغییر روی جداول حساس توسط توابع SQL.
  - اولویت: Medium

- [ ] عنوان: Session Invalidation on Role Change
  - دسته‌بندی: Security/Backend
  - توضیح: وقتی نقش کاربر توسط ادمین تغییر می‌کند، یک رکورد در جدول auth.sessions یا معادل آن دستکاری شود تا توکن کاربر بلافاصله منقضی شود.
  - اولویت: High


--------------------------------
2. پیشنهادات بهره‌وری و پرفورمنس (Performance)
--------------------------------
- [ ] عنوان: Database RPC Functions for Reporting
  - دسته‌بندی: Backend/Performance
  - توضیح: انتقال محاسبات سنگین (مانند جمع‌بندی آمارهای ماهانه) به سمت دیتابیس با استفاده از توابع Postgres RPC.
  - اولویت: Medium

- [ ] عنوان: Database Health Check RPC
  - دسته‌بندی: DevOps/Performance
  - توضیح: تبدیل لاجیک "Health Check" که الان در AdminDashboard سمت کلاینت است به یک تابع RPC سبک برای کاهش ترافیک شبکه.
  - اولویت: Low

--------------------------------
3. پیشنهادات رابط کاربری و تجربه کاربری (UI/UX)
--------------------------------
- [ ] عنوان: Password Visibility Toggle in Admin Panel
  - دسته‌بندی: UX/Admin
  - توضیح: افزودن دکمه مشاهده رمز عبور در مودال ساخت کاربر توسط ادمین برای اطمینان از تایپ صحیح.
  - اولویت: Low

- [ ] عنوان: PDF Report Generation
  - دسته‌بندی: UX/Reporting
  - توضیح: قابلیت تولید فایل PDF از حواله‌ها و گزارشات برای پرینت و بایگانی رسمی.
  - اولویت: High

- [ ] عنوان: Input Masking for Phone/Plate
  - دسته‌بندی: UX/Forms
  - توضیح: استفاده از کتابخانه‌های ماسک‌گذاری یا لاجیک کاستوم برای فرمت‌دهی خودکار شماره موبایل و پلاک خودرو حین تایپ.
  - اولویت: Medium

- [ ] عنوان: System Announcement System
  - دسته‌بندی: Feature/UX
  - توضیح: قابلیت ارسال پیام‌های سیستمی توسط ادمین که در بالای داشبورد تمام کاربران نمایش داده شود (مثل اطلاعیه تعمیرات).
  - اولویت: Low

- [ ] عنوان: Command Palette (Ctrl+K)
  - دسته‌بندی: UI/UX
  - توضیح: ایجاد یک منوی جستجوی سریع که با کلید میانبر باز شود و امکان دسترسی سریع به صفحات مختلف یا جستجوی کاربر/حواله را بدهد.
  - اولویت: Medium

- [ ] عنوان: High Contrast Mode
  - دسته‌بندی: Accessibility
  - توضیح: افزودن حالت کنتراست بالا برای کاربران با بینایی ضعیف، علاوه بر تم تاریک و روشن موجود.
  - اولویت: Low

--------------------------------
4. پیشنهادات ساختار کد و دواپس (DevOps & Refactoring)
--------------------------------
- [ ] عنوان: Strict File Structure Linting
  - دسته‌بندی: DevOps/Code Quality
  - توضیح: افزودن eslint-plugin-project-structure برای جلوگیری از ایجاد فایل در روت پروژه و اجبار به رعایت ساختار src.
  - اولویت: Medium

- [ ] عنوان: Barrel Exports Implementation
  - دسته‌بندی: Refactoring
  - توضیح: ایجاد فایل‌های index.ts در هر پوشه (components, hooks, etc.) برای تمیز کردن ایمپورت‌ها و کپسوله‌سازی ماژول‌ها.
  - اولویت: Low

- [ ] عنوان: Path Alias Enforcement Rule
  - دسته‌بندی: Code Quality
  - توضیح: اضافه کردن قانون ESLint برای جلوگیری از ایمپورت‌های نسبی طولانی (../../) و اجبار به استفاده از alias (@/).
  - اولویت: Low

- [ ] عنوان: Automatic Unused File Cleanup
  - دسته‌بندی: Maintenance
  - توضیح: ایجاد اسکریپت یا استفاده از ابزار knip برای شناسایی و حذف فایل‌های یتیم و بدون استفاده در پروژه.
  - اولویت: Low

- [ ] عنوان: Coverage Thresholds in Vitest
  - دسته‌بندی: DevOps/Quality
  - توضیح: تنظیم حداقل درصد پوشش کد (مثلاً 80%) در vitest.config.ts برای اطمینان از کیفیت تست‌ها.
  - اولویت: Low

- [ ] عنوان: Snapshot Testing for UI
  - دسته‌بندی: Testing
  - توضیح: استفاده از قابلیت Snapshot تست Vitest برای کامپوننت‌های UI حساس مثل فرم‌ها و کارت‌ها جهت جلوگیری از تغییرات ناخواسته.
  - اولویت: Medium

- [ ] عنوان: Invoice Number Sequence Table
  - دسته‌بندی: Data Integrity
  - توضیح: به جای تکیه بر کلاینت یا شمارش رکوردها، یک جدول sequences برای تولید شماره حواله یکتا و بدون تداخل (Concurrency Safe) ایجاد شود.
  - اولویت: High

- [ ] عنوان: E2E Testing with Playwright
  - دسته‌بندی: DevOps/QA
  - توضیح: اضافه کردن تست‌های End-to-End برای سناریوی کامل "ثبت حواله" جهت اطمینان از عملکرد کل سیستم.
  - اولویت: Medium

- [ ] عنوان: Frontend Error Monitoring (Sentry/LogRocket)
  - دسته‌بندی: DevOps
  - توضیح: اتصال به سرویس‌هایی مثل Sentry برای رصد خطاهای کلاینت‌ساید و بازپخش سشن کاربر جهت دیباگ سریع‌تر.
  - اولویت: High

- [ ] عنوان: CSV Export Utility
  - دسته‌بندی: Feature/Code
  - توضیح: اضافه کردن قابلیت خروجی CSV برای گزارشات به عنوان یک گزینه سبک‌تر و سازگارتر نسبت به XLSX.
  - اولویت: Low

--------------------------------
5. پیشنهادات PWA & Mobile (PWA Growth)
--------------------------------
- [ ] عنوان: PWA Periodic Background Sync
  - دسته‌بندی: PWA/Offline
  - توضیح: استفاده از Background Sync API برای ارسال داده‌های آفلاین به محض اتصال به اینترنت، حتی اگر برنامه بسته باشد.
  - اولویت: High

- [ ] عنوان: Custom Install Prompt (PWA)
  - دسته‌بندی: PWA/UX
  - توضیح: جلوگیری از پرامپت پیش‌فرض مرورگر و نمایش یک دکمه نصب زیبا داخل UI برنامه (`beforeinstallprompt` event).
  - اولویت: Medium

- [ ] عنوان: Share Target API Integration
  - دسته‌بندی: PWA/Feature
  - توضیح: امکان دریافت فایل (مثلاً فکس یا اکسل) از برنامه‌های دیگر (مثل واتس‌اپ) مستقیماً درون اپلیکیشن مروارید.
  - اولویت: Low

- [ ] عنوان: Navigation Preload Strategy
  - دسته‌بندی: PWA/Performance
  - توضیح: فعال‌سازی Navigation Preload در Service Worker برای کاهش تاخیر هنگام لود اولیه صفحه.
  - اولویت: Medium

--------------------------------
6. پیشنهادات امنیت پیشرفته (Security Growth)
--------------------------------
- [ ] عنوان: Session Timeout Hook
  - دسته‌بندی: Security/UX
  - توضیح: هوک اختصاصی برای مدیریت انقضای سشن در تمام تب‌های باز و نمایش مودال "آیا هنوز هستید؟" قبل از لاگ‌اوت.
  - اولویت: Medium

- [ ] عنوان: API Request Signing
  - دسته‌بندی: Security
  - توضیح: امضای درخواست‌های حساس API با یک توکن چرخشی یا کلید موقت برای جلوگیری از Replay Attack.
  - اولویت: High

- [ ] عنوان: Honeypot Fields
  - دسته‌بندی: Security/Anti-Spam
  - توضیح: افزودن فیلدهای مخفی به فرم‌های لاگین و ثبت‌نام برای شناسایی و مسدود کردن ربات‌هایی که تمام فیلدها را پر می‌کنند.
  - اولویت: Low

- [ ] عنوان: Client-Side Password Strength Meter
  - دسته‌بندی: Security/UX
  - توضیح: نمایش میزان قدرت رمز عبور (طول، کاراکتر خاص، عدد) به صورت آنی هنگام تایپ کردن توسط کاربر.
  - اولویت: Low

--------------------------------
7. پیشنهادات دیتابیس (Database Growth)
--------------------------------
- [ ] عنوان: Database Indexing Strategy
  - دسته‌بندی: Database/Performance
  - توضیح: ایجاد ایندکس‌های مناسب روی ستون‌های پرکاربرد مثل `farm_id`, `date`, `created_by` برای افزایش سرعت کوئری‌ها.
  - اولویت: Medium

- [ ] عنوان: Partitioning for Invoices
  - دسته‌بندی: Database/Scalability
  - توضیح: پارتیشن‌بندی جدول `invoices` بر اساس سال یا ماه برای بهینه‌سازی پرفورمنس در حجم بالا.
  - اولویت: Low

- [ ] عنوان: Automated Daily Backups
  - دسته‌بندی: DevOps/Database
  - توضیح: تنظیم کران جاب در Supabase یا سرویس خارجی برای بکاپ‌گیری روزانه و ارسال آن به S3.
  - اولویت: High

- [ ] عنوان: Polymorphic Comments Table
  - دسته‌بندی: Feature/Database
  - توضیح: طراحی جدول نظرات به صورت پلی‌مورفیک برای قابلیت ثبت نظر روی حواله‌ها، فارم‌ها یا کاربران در آینده.
  - اولویت: Low

--------------------------------
8. پیشنهادات تمیزکاری و ساختار (Cleanup Growth)
--------------------------------
- [ ] عنوان: Remove Unused SVG Icons
  - دسته‌بندی: Cleanup
  - توضیح: بررسی پوشه `public/icons` و `src/assets` برای حذف فایل‌های گرافیکی که در پروژه استفاده نمی‌شوند.
  - اولویت: Low

- [ ] عنوان: Consolidate Constants
  - دسته‌بندی: Refactoring
  - توضیح: انتقال تمام اعداد جادویی و رشته‌های ثابت (مثل نام جدول‌ها یا پیام‌های خطا) به فایل `constants.ts`.
  - اولویت: Medium

- [ ] عنوان: Standardize CSS Variables
  - دسته‌بندی: Cleanup/CSS
  - توضیح: تبدیل تمام رنگ‌های هاردکد شده در Tailwind config به CSS Variables برای پشتیبانی بهتر از تم دینامیک.
  - اولویت: Low

- [ ] عنوان: Deprecate Legacy Utilities
  - دسته‌بندی: Cleanup
  - توضیح: شناسایی و حذف توابع کمکی که با آمدن قابلیت‌های جدید JS/TS دیگر نیاز نیستند (مثل لودش).
  - اولویت: Low

--------------------------------
9. پیشنهادات PWA Growth (New)
--------------------------------
- [ ] عنوان: PWA Shortcuts Menu
  - دسته‌بندی: PWA/UX
  - توضیح: تعریف App Shortcuts در مانیفست برای دسترسی سریع به بخش‌های پرکاربرد (مثل "ثبت جدید") با نگه داشتن آیکون برنامه.
  - اولویت: Medium

- [ ] عنوان: Advanced Offline Analytics
  - دسته‌بندی: PWA/Data
  - توضیح: استفاده از Workbox Google Analytics برای جمع‌آوری و ارسال تعاملات کاربر در حالت آفلاین به محض اتصال.
  - اولویت: Low

- [ ] عنوان: Content Indexing API
  - دسته‌بندی: PWA/Search
  - توضیح: ایندکس کردن محتوای آفلاین برنامه در مرورگر تا کاربر بتواند بدون اینترنت هم مطالب را جستجو کند.
  - اولویت: Low

- [ ] عنوان: Web Share Target (Receive Data)
  - دسته‌بندی: PWA/Feature
  - توضیح: امکان دریافت تصاویر یا متن از سایر برنامه‌ها (مثل گالری) و باز شدن مستقیم برنامه برای پردازش آنها.
  - اولویت: Medium

--------------------------------
10. پیشنهادات جدید (New Proactive Suggestions)
--------------------------------
- [ ] عنوان: Skeleton Loaders for Reports
  - دسته‌بندی: UI/UX
  - توضیح: نمایش اسکلتون‌های زیبا هنگام بارگذاری گزارش‌ها برای کاهش حس انتظار کاربر.
  - اولویت: Medium

- [ ] عنوان: Infinite Scroll for Tables
  - دسته‌بندی: Performance/UX
  - توضیح: جایگزینی محدودیت ثابت رکوردها با اسکرول نامحدود جهت بهبود سرعت لود اولیه در جداول حجیم.
  - اولویت: High

- [ ] عنوان: Centralized Persian Utility
  - دسته‌بندی: Code Quality
  - توضیح: انتقال تمام توابع تبدیل اعداد و تاریخ فارسی به یک ماژول متمرکز (persianTools.ts).
  - اولویت: Medium

- [ ] عنوان: Production Forecasting
  - دسته‌بندی: Feature/Creative
  - توضیح: تحلیل آمارهای گذشته برای پیش‌بینی هوشمند میزان تولید روزهای آینده با استفاده از میانگین متحرک.
  - اولویت: Low

--------------------------------
11. پیشنهادات جدید (UX & Mobile Growth)
--------------------------------
- [ ] عنوان: PWA Offline Banner
  - دسته‌بندی: PWA/UX
  - توضیح: نمایش یک بنر ظریف در بالای صفحه هنگام قطع اینترنت برای آگاهی کاربر از وضعیت آفلاین.
  - اولویت: Medium

- [ ] عنوان: Mobile Context Menu (Long Press)
  - دسته‌بندی: UX/Mobile
  - توضیح: ایجاد منوی کلیک راست (Long Press) روی ردیف‌های جدول برای دسترسی سریع به عملیات حذف و ویرایش در حالت موبایل.
  - اولویت: Medium

- [ ] عنوان: Optimized Image Upload
  - دسته‌بندی: Performance/Mobile
  - توضیح: فشرده‌سازی خودکار تصاویر در کلاینت قبل از آپلود برای کاهش مصرف حجم اینترنت موبایل.
  - اولویت: High

- [ ] عنوان: Bio-Auth Integration (WebAuthn)
  - دسته‌بندی: Security/UX
  - توضیح: استفاده از اثر انگشت یا تشخیص چهره بجای تایپ رمز عبور برای لاگین سریع‌تر در موبایل.
  - اولویت: Low
